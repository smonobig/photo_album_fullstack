{"ast":null,"code":"import { focusWithoutScrolling as $7215afc6de606d6b$export$de79e2c695e052f3 } from \"./focusWithoutScrolling.module.js\";\nimport { isMac as $c87311424ea30a05$export$9ac100e40613ea10, isWebKit as $c87311424ea30a05$export$78551043582a6a98, isFirefox as $c87311424ea30a05$export$b7d78993b74f766d, isIPad as $c87311424ea30a05$export$7bef049ce92e4224 } from \"./platform.module.js\";\nimport $g3jFn$react, { createContext as $g3jFn$createContext, useMemo as $g3jFn$useMemo, useContext as $g3jFn$useContext } from \"react\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nconst $ea8dcbcb9ea1b556$var$RouterContext = /*#__PURE__*/(0, $g3jFn$createContext)({\n  isNative: true,\n  open: $ea8dcbcb9ea1b556$var$openSyntheticLink,\n  useHref: href => href\n});\nfunction $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb(props) {\n  let {\n    children: children,\n    navigate: navigate,\n    useHref: useHref\n  } = props;\n  let ctx = (0, $g3jFn$useMemo)(() => ({\n    isNative: false,\n    open: (target, modifiers, href, routerOptions) => {\n      $ea8dcbcb9ea1b556$var$getSyntheticLink(target, link => {\n        if ($ea8dcbcb9ea1b556$export$efa8c9099e530235(link, modifiers)) navigate(href, routerOptions);else $ea8dcbcb9ea1b556$export$95185d699e05d4d7(link, modifiers);\n      });\n    },\n    useHref: useHref || (href => href)\n  }), [navigate, useHref]);\n  return /*#__PURE__*/(0, $g3jFn$react).createElement($ea8dcbcb9ea1b556$var$RouterContext.Provider, {\n    value: ctx\n  }, children);\n}\nfunction $ea8dcbcb9ea1b556$export$9a302a45f65d0572() {\n  return (0, $g3jFn$useContext)($ea8dcbcb9ea1b556$var$RouterContext);\n}\nfunction $ea8dcbcb9ea1b556$export$efa8c9099e530235(link, modifiers) {\n  // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n  let target = link.getAttribute('target');\n  return (!target || target === '_self') && link.origin === location.origin && !link.hasAttribute('download') && !modifiers.metaKey &&\n  // open in new tab (mac)\n  !modifiers.ctrlKey &&\n  // open in new tab (windows)\n  !modifiers.altKey &&\n  // download\n  !modifiers.shiftKey;\n}\nfunction $ea8dcbcb9ea1b556$export$95185d699e05d4d7(target, modifiers, setOpening = true) {\n  var _window_event_type, _window_event;\n  let {\n    metaKey: metaKey,\n    ctrlKey: ctrlKey,\n    altKey: altKey,\n    shiftKey: shiftKey\n  } = modifiers;\n  // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n  // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n  // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n  // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n  if ((0, $c87311424ea30a05$export$b7d78993b74f766d)() && ((_window_event = window.event) === null || _window_event === void 0 ? void 0 : (_window_event_type = _window_event.type) === null || _window_event_type === void 0 ? void 0 : _window_event_type.startsWith('key')) && target.target === '_blank') {\n    if ((0, $c87311424ea30a05$export$9ac100e40613ea10)()) metaKey = true;else ctrlKey = true;\n  }\n  // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n  // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n  let event = (0, $c87311424ea30a05$export$78551043582a6a98)() && (0, $c87311424ea30a05$export$9ac100e40613ea10)() && !(0, $c87311424ea30a05$export$7bef049ce92e4224)() && process.env.NODE_ENV !== 'test' ? new KeyboardEvent('keydown', {\n    keyIdentifier: 'Enter',\n    metaKey: metaKey,\n    ctrlKey: ctrlKey,\n    altKey: altKey,\n    shiftKey: shiftKey\n  }) : new MouseEvent('click', {\n    metaKey: metaKey,\n    ctrlKey: ctrlKey,\n    altKey: altKey,\n    shiftKey: shiftKey,\n    bubbles: true,\n    cancelable: true\n  });\n  $ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = setOpening;\n  (0, $7215afc6de606d6b$export$de79e2c695e052f3)(target);\n  target.dispatchEvent(event);\n  $ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n$ea8dcbcb9ea1b556$export$95185d699e05d4d7.isOpening = false;\nfunction $ea8dcbcb9ea1b556$var$getSyntheticLink(target, open) {\n  if (target instanceof HTMLAnchorElement) open(target);else if (target.hasAttribute('data-href')) {\n    let link = document.createElement('a');\n    link.href = target.getAttribute('data-href');\n    if (target.hasAttribute('data-target')) link.target = target.getAttribute('data-target');\n    if (target.hasAttribute('data-rel')) link.rel = target.getAttribute('data-rel');\n    if (target.hasAttribute('data-download')) link.download = target.getAttribute('data-download');\n    if (target.hasAttribute('data-ping')) link.ping = target.getAttribute('data-ping');\n    if (target.hasAttribute('data-referrer-policy')) link.referrerPolicy = target.getAttribute('data-referrer-policy');\n    target.appendChild(link);\n    open(link);\n    target.removeChild(link);\n  }\n}\nfunction $ea8dcbcb9ea1b556$var$openSyntheticLink(target, modifiers) {\n  $ea8dcbcb9ea1b556$var$getSyntheticLink(target, link => $ea8dcbcb9ea1b556$export$95185d699e05d4d7(link, modifiers));\n}\nfunction $ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6(props) {\n  let router = $ea8dcbcb9ea1b556$export$9a302a45f65d0572();\n  var _props_href;\n  const href = router.useHref((_props_href = props.href) !== null && _props_href !== void 0 ? _props_href : '');\n  return {\n    'data-href': props.href ? href : undefined,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  };\n}\nfunction $ea8dcbcb9ea1b556$export$51437d503373d223(props) {\n  return {\n    'data-href': props.href,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  };\n}\nfunction $ea8dcbcb9ea1b556$export$7e924b3091a3bd18(props) {\n  let router = $ea8dcbcb9ea1b556$export$9a302a45f65d0572();\n  var _props_href;\n  const href = router.useHref((_props_href = props === null || props === void 0 ? void 0 : props.href) !== null && _props_href !== void 0 ? _props_href : '');\n  return {\n    href: (props === null || props === void 0 ? void 0 : props.href) ? href : undefined,\n    target: props === null || props === void 0 ? void 0 : props.target,\n    rel: props === null || props === void 0 ? void 0 : props.rel,\n    download: props === null || props === void 0 ? void 0 : props.download,\n    ping: props === null || props === void 0 ? void 0 : props.ping,\n    referrerPolicy: props === null || props === void 0 ? void 0 : props.referrerPolicy\n  };\n}\nexport { $ea8dcbcb9ea1b556$export$323e4fc2fa4753fb as RouterProvider, $ea8dcbcb9ea1b556$export$efa8c9099e530235 as shouldClientNavigate, $ea8dcbcb9ea1b556$export$95185d699e05d4d7 as openLink, $ea8dcbcb9ea1b556$export$9a302a45f65d0572 as useRouter, $ea8dcbcb9ea1b556$export$bdc77b0c0a3a85d6 as useSyntheticLinkProps, $ea8dcbcb9ea1b556$export$51437d503373d223 as getSyntheticLinkProps, $ea8dcbcb9ea1b556$export$7e924b3091a3bd18 as useLinkProps };","map":{"version":3,"sources":["packages/@react-aria/utils/src/openLink.tsx"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {focusWithoutScrolling, isMac, isWebKit} from './index';\nimport {Href, LinkDOMProps, RouterOptions} from '@react-types/shared';\nimport {isFirefox, isIPad} from './platform';\nimport React, {createContext, DOMAttributes, ReactNode, useContext, useMemo} from 'react';\n\ninterface Router {\n  isNative: boolean,\n  open: (target: Element, modifiers: Modifiers, href: Href, routerOptions: RouterOptions | undefined) => void,\n  useHref: (href: Href) => string\n}\n\nconst RouterContext = createContext<Router>({\n  isNative: true,\n  open: openSyntheticLink,\n  useHref: (href) => href\n});\n\ninterface RouterProviderProps {\n  navigate: (path: Href, routerOptions: RouterOptions | undefined) => void,\n  useHref?: (href: Href) => string,\n  children: ReactNode\n}\n\n/**\n * A RouterProvider accepts a `navigate` function from a framework or client side router,\n * and provides it to all nested React Aria links to enable client side navigation.\n */\nexport function RouterProvider(props: RouterProviderProps): ReactNode {\n  let {children, navigate, useHref} = props;\n\n  let ctx = useMemo(() => ({\n    isNative: false,\n    open: (target: Element, modifiers: Modifiers, href: Href, routerOptions: RouterOptions | undefined) => {\n      getSyntheticLink(target, link => {\n        if (shouldClientNavigate(link, modifiers)) {\n          navigate(href, routerOptions);\n        } else {\n          openLink(link, modifiers);\n        }\n      });\n    },\n    useHref: useHref || ((href) => href)\n  }), [navigate, useHref]);\n\n  return (\n    <RouterContext.Provider value={ctx}>\n      {children}\n    </RouterContext.Provider>\n  );\n}\n\nexport function useRouter(): Router {\n  return useContext(RouterContext);\n}\n\ninterface Modifiers {\n  metaKey?: boolean,\n  ctrlKey?: boolean,\n  altKey?: boolean,\n  shiftKey?: boolean\n}\n\nexport function shouldClientNavigate(link: HTMLAnchorElement, modifiers: Modifiers): boolean {\n  // Use getAttribute here instead of link.target. Firefox will default link.target to \"_parent\" when inside an iframe.\n  let target = link.getAttribute('target');\n  return (\n    (!target || target === '_self') &&\n    link.origin === location.origin &&\n    !link.hasAttribute('download') &&\n    !modifiers.metaKey && // open in new tab (mac)\n    !modifiers.ctrlKey && // open in new tab (windows)\n    !modifiers.altKey && // download\n    !modifiers.shiftKey\n  );\n}\n\nexport function openLink(target: HTMLAnchorElement, modifiers: Modifiers, setOpening = true): void {\n  let {metaKey, ctrlKey, altKey, shiftKey} = modifiers;\n\n  // Firefox does not recognize keyboard events as a user action by default, and the popup blocker\n  // will prevent links with target=\"_blank\" from opening. However, it does allow the event if the\n  // Command/Control key is held, which opens the link in a background tab. This seems like the best we can do.\n  // See https://bugzilla.mozilla.org/show_bug.cgi?id=257870 and https://bugzilla.mozilla.org/show_bug.cgi?id=746640.\n  if (isFirefox() && window.event?.type?.startsWith('key') && target.target === '_blank') {\n    if (isMac()) {\n      metaKey = true;\n    } else {\n      ctrlKey = true;\n    }\n  }\n\n  // WebKit does not support firing click events with modifier keys, but does support keyboard events.\n  // https://github.com/WebKit/WebKit/blob/c03d0ac6e6db178f90923a0a63080b5ca210d25f/Source/WebCore/html/HTMLAnchorElement.cpp#L184\n  let event = isWebKit() && isMac() && !isIPad() && process.env.NODE_ENV !== 'test'\n    // @ts-ignore - keyIdentifier is a non-standard property, but it's what webkit expects\n    ? new KeyboardEvent('keydown', {keyIdentifier: 'Enter', metaKey, ctrlKey, altKey, shiftKey})\n    : new MouseEvent('click', {metaKey, ctrlKey, altKey, shiftKey, bubbles: true, cancelable: true});\n  (openLink as any).isOpening = setOpening;\n  focusWithoutScrolling(target);\n  target.dispatchEvent(event);\n  (openLink as any).isOpening = false;\n}\n// https://github.com/parcel-bundler/parcel/issues/8724\n(openLink as any).isOpening = false;\n\nfunction getSyntheticLink(target: Element, open: (link: HTMLAnchorElement) => void) {\n  if (target instanceof HTMLAnchorElement) {\n    open(target);\n  } else if (target.hasAttribute('data-href')) {\n    let link = document.createElement('a');\n    link.href = target.getAttribute('data-href')!;\n    if (target.hasAttribute('data-target')) {\n      link.target = target.getAttribute('data-target')!;\n    }\n    if (target.hasAttribute('data-rel')) {\n      link.rel = target.getAttribute('data-rel')!;\n    }\n    if (target.hasAttribute('data-download')) {\n      link.download = target.getAttribute('data-download')!;\n    }\n    if (target.hasAttribute('data-ping')) {\n      link.ping = target.getAttribute('data-ping')!;\n    }\n    if (target.hasAttribute('data-referrer-policy')) {\n      link.referrerPolicy = target.getAttribute('data-referrer-policy')!;\n    }\n    target.appendChild(link);\n    open(link);\n    target.removeChild(link);\n  }\n}\n\nfunction openSyntheticLink(target: Element, modifiers: Modifiers) {\n  getSyntheticLink(target, link => openLink(link, modifiers));\n}\n\nexport function useSyntheticLinkProps(props: LinkDOMProps): DOMAttributes<HTMLElement> {\n  let router = useRouter();\n  const href = router.useHref(props.href ?? '');\n  return {\n    'data-href': props.href ? href : undefined,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  } as DOMAttributes<HTMLElement>;\n}\n\n/** @deprecated - For backward compatibility. */\nexport function getSyntheticLinkProps(props: LinkDOMProps): DOMAttributes<HTMLElement> {\n  return {\n    'data-href': props.href,\n    'data-target': props.target,\n    'data-rel': props.rel,\n    'data-download': props.download,\n    'data-ping': props.ping,\n    'data-referrer-policy': props.referrerPolicy\n  } as DOMAttributes<HTMLElement>;\n}\n\nexport function useLinkProps(props?: LinkDOMProps): LinkDOMProps {\n  let router = useRouter();\n  const href = router.useHref(props?.href ?? '');\n  return {\n    href: props?.href ? href : undefined,\n    target: props?.target,\n    rel: props?.rel,\n    download: props?.download,\n    ping: props?.ping,\n    referrerPolicy: props?.referrerPolicy\n  };\n}\n"]},"metadata":{},"sourceType":"module"}